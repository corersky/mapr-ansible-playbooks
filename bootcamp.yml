## Install MapR with YARN, Spark and Drill

## Need to fix Drill memory consumption first
#- import_playbook: cluster-yarn-spark-drill.yml
- import_playbook: cluster-yarn-spark.yml

## Install Streamsets
- name: Install StreamSets
  hosts: thirdparty-streamsets
  roles:
    - thirdparty-streamsets

## Install Docker
- name: Install Docker
  hosts: thirdparty-docker
  roles:
    - thirdparty-docker

## Install Bootcamp specific items
- name: Install Bootcamp specific items
  hosts: thirdparty-bootcamp
  roles:
    - mapr-kafka-rest
    - mapr-httpfs
    - mapr-collectd
    - mapr-opentsdb
    - mapr-configure-monitoring-opentsdb
    - thirdparty-bootcamp

## Run configure.sh
- name: Run configure.sh -R for Eco-system component configuration
  hosts: all:!clients
  roles:
    - mapr-configure-components

## Run configure.sh
- name: Configure warden for limited memory consumption and restart warden
  hosts: all:!clients
  roles:
    - mapr-configure-memory
    - mapr-configure-warden-restart